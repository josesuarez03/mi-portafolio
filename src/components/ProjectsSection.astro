---
// src/components/ProjectsSection.astro
import { Card, CardContent } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import { Github } from 'lucide-react';
import { projects } from '@/data/portafolio';

interface Project {
  id: string;
  title: string;
  subtitle: string;
  description: string;
  technologies: string[];
  image?: string;
  githubUrl?: string;
  icon?: string;
}

interface Props {
  title?: string;
  projects?: Project[];
}

const { 
  title = "Proyectos", 
  projects: projectsProp = projects 
} = Astro.props;
---

<section class="mb-12">
  <h2 class="text-xl font-semibold text-white mb-6">{title}</h2>
  
  <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    {projectsProp.map((project) => (
      <Card key={project.id} className="bg-gray-900 border-gray-700 hover:border-blue-600/50 transition-colors">
        <CardContent className="p-0">
          <!-- Imagen del proyecto -->
          <div class="relative h-48 bg-gradient-to-br from-blue-900/20 to-gray-900 rounded-t-lg flex items-center justify-center">
            {project.image ? (
              <img 
                src={project.image} 
                alt={project.title}
                class="w-full h-full object-cover rounded-t-lg"
              />
            ) : (
              <div class="text-6xl opacity-50 text-blue-400">
                {project.icon || "ðŸ“¦"}
              </div>
            )}
          </div>
          
          <!-- Contenido -->
          <div class="p-6">
            <h3 class="text-lg font-semibold text-white mb-1">{project.title}</h3>
            <p class="text-blue-300 text-sm mb-3">{project.subtitle}</p>
            <p class="text-gray-400 text-sm mb-4 leading-relaxed">
              {project.description}
            </p>
            
            <!-- TecnologÃ­as -->
            <div class="flex flex-wrap gap-2 mb-4">
              {project.technologies.map((tech) => (
                <Badge 
                  key={tech}
                  variant="secondary" 
                  className="bg-blue-600/20 text-blue-300 text-xs border border-blue-600/30"
                >
                  {tech}
                </Badge>
              ))}
            </div>
            
            <!-- Enlaces -->
            <div class="flex gap-2">
              {project.githubUrl && (
                <Button 
                  variant="outline" 
                  size="sm"
                  className="border-blue-600 text-blue-400 hover:bg-blue-600/10 flex-1"
                  asChild
                >
                  <a href={project.githubUrl} target="_blank" rel="noopener noreferrer">
                    <Github className="w-4 h-4 mr-2" />
                    Code
                  </a>
                </Button>
              )}
            </div>
          </div>
        </CardContent>
      </Card>
    ))}
  </div>
</section>